<div class="post">
  <div class="container">
    <div *ngIf="isHighlighted()" class="highlight">
      <fa-icon [icon]="starIcon"></fa-icon>
      Destaque
    </div>
  <div class="user">
    <div class="userInfo">
      <img [src]="'assets/upload/' + post?.profilePic" alt="Foto de perfil">
      <div class="details">
        <a *ngIf="post" [routerLink]="['/perfil', post.userId]">
          <span class="name">{{ post.name }}</span>
        </a>
        <span class="date">{{ '@' + post.user.username + ' · '  + formatDateToNow(post.createdAt)}}</span>
      </div>
    </div>
    <svg  (click)="toggleSettingsOpen()" xmlns="http://www.w3.org/2000/svg" width="16" height="4" viewBox="0 0 16 4" fill="none">
      <circle cx="2" cy="2" r="2" fill="#828282" />
      <circle cx="8" cy="2" r="2" fill="#828282" />
      <circle cx="14" cy="2" r="2" fill="#828282" />
    </svg>
    <div class="settings" *ngIf="settingsOpen">
      <div class="settingsContainer">
      <div *ngIf="canDelete" class="settingsButton" (click)="handleDelete($event)">
        <fa-icon [icon]="trashIcon"></fa-icon>
          <span> Excluir Postagem</span>
      </div>
      <div class="settingsButton" [routerLink]="['/post', post.id]">
        <fa-icon [icon]="infoIcon"></fa-icon>
          <span> Ver Postagem </span>
      </div>
    </div>
    </div>
  </div>
  <div class="content">
      <p>{{ post?.desc }}</p>
      <div *ngIf="post?.img">
      <img [src]="'assets/upload/' + post.img" alt="" />
    </div>
  </div>
  <div class="info">
    <div class="item" >
      <svg (click)="handleLike($event)" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" [style.cursor]="'pointer'">
        <ng-container *ngIf="!liked; else likedIcon">
            <!-- Ícone de "like" não gostado -->
            <path d="M21.3571 6C19.1446 6 17.2075 6.95143 16 8.55964C14.7925 6.95143 12.8554 6 10.6429 6C8.88167 6.00199 7.19319 6.70249 5.94784 7.94784C4.70249 9.19319 4.00199 10.8817 4 12.6429C4 20.1429 15.1204 26.2136 15.5939 26.4643C15.7187 26.5314 15.8583 26.5666 16 26.5666C16.1417 26.5666 16.2813 26.5314 16.4061 26.4643C16.8796 26.2136 28 20.1429 28 12.6429C27.998 10.8817 27.2975 9.19319 26.0522 7.94784C24.8068 6.70249 23.1183 6.00199 21.3571 6ZM16 24.7286C14.0436 23.5886 5.71429 18.3954 5.71429 12.6429C5.71599 11.3362 6.23579 10.0836 7.15971 9.15971C8.08363 8.23579 9.33624 7.71599 10.6429 7.71429C12.7268 7.71429 14.4764 8.82429 15.2071 10.6071C15.2717 10.7644 15.3816 10.8988 15.5228 10.9934C15.6639 11.0881 15.83 11.1386 16 11.1386C16.17 11.1386 16.3361 11.0881 16.4773 10.9934C16.6184 10.8988 16.7283 10.7644 16.7929 10.6071C17.5236 8.82107 19.2732 7.71429 21.3571 7.71429C22.6638 7.71599 23.9164 8.23579 24.8403 9.15971C25.7642 10.0836 26.284 11.3362 26.2857 12.6429C26.2857 18.3868 17.9543 23.5875 16 24.7286Z" fill="#828282"/>
        </ng-container>
        <ng-template #likedIcon>
            <!-- Ícone de "like" gostado -->
            <path d="M22.25 4C19.6687 4 17.4087 5.11 16 6.98625C14.5912 5.11 12.3312 4 9.75 4C7.69528 4.00232 5.72539 4.81958 4.27248 6.27248C2.81958 7.72539 2.00232 9.69528 2 11.75C2 20.5 14.9737 27.5825 15.5262 27.875C15.6719 27.9533 15.8346 27.9943 16 27.9943C16.1654 27.9943 16.3281 27.9533 16.4737 27.875C17.0262 27.5825 30 20.5 30 11.75C29.9977 9.69528 29.1804 7.72539 27.7275 6.27248C26.2746 4.81958 24.3047 4.00232 22.25 4ZM16 25.85C13.7175 24.52 4 18.4613 4 11.75C4.00198 10.2256 4.60842 8.76423 5.68633 7.68633C6.76423 6.60842 8.22561 6.00198 9.75 6C12.1812 6 14.2225 7.295 15.075 9.375C15.1503 9.55841 15.2785 9.71528 15.4432 9.82569C15.6079 9.93609 15.8017 9.99503 16 9.99503C16.1983 9.99503 16.3921 9.93609 16.5568 9.82569C16.7215 9.71528 16.8497 9.55841 16.925 9.375C17.7775 7.29125 19.8187 6 22.25 6C23.7744 6.00198 25.2358 6.60842 26.3137 7.68633C27.3916 8.76423 27.998 10.2256 28 11.75C28 18.4513 18.28 24.5188 16 25.85Z" fill="#FF3040"/>
            <path d="M16 25.85C13.7175 24.52 4 18.4613 4 11.75C4.00198 10.2256 4.60842 8.76423 5.68633 7.68633C6.76423 6.60842 8.22561 6.00198 9.75 6C12.1812 6 14.2225 7.295 15.075 9.375C15.1503 9.55841 15.2785 9.71528 15.4432 9.82569C15.6079 9.93609 15.8017 9.99503 16 9.99503C16.1983 9.99503 16.3921 9.93609 16.5568 9.82569C16.7215 9.71528 16.8497 9.55841 16.925 9.375C17.7775 7.29125 19.8187 6 22.25 6C23.7744 6.00198 25.2358 6.60842 26.3137 7.68633C27.3916 8.76423 27.998 10.2256 28 11.75C28 18.4513 18.28 24.5188 16 25.85Z" fill="#FF3040"/>
        </ng-template>
    </svg>
      <span class="reacao">{{ likes.length }} Curtidas</span>
      <span *ngIf="isLoading">Carregando...</span>
    </div>
    <div class="item" (click)="toggleCommentOpen()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="23" viewBox="0 0 24 23" fill="none">
        <g clip-path="url(#clip0_285_21)">
          <path d="M5.69967 17.6226H6.46634V16.8559H5.69967V17.6226ZM5.69967 22.2195H4.93301C4.93301 22.3619 4.97266 22.5015 5.04751 22.6226C5.12236 22.7437 5.22946 22.8416 5.35681 22.9053C5.48416 22.9689 5.62672 22.9959 5.76853 22.9831C5.91033 22.9703 6.04577 22.9183 6.15967 22.8329L5.69967 22.2195ZM11.833 17.6226V16.8559H11.5769L11.373 17.0093L11.833 17.6226ZM7.23301 6.12873H6.46634V7.66207H7.23301V6.12873ZM16.433 7.66207H17.1997V6.12873H16.433V7.66207ZM7.23301 10.7257H6.46634V12.259H7.23301V10.7257ZM13.3663 12.259H14.133V10.7257H13.3663V12.259ZM4.93301 17.6226V22.2195H6.46634V17.6226H4.93301ZM6.15967 22.8329L12.293 18.2359L11.373 17.0093L5.23967 21.6062L6.15967 22.8329ZM11.833 18.3893H21.033V16.8559H11.833V18.3893ZM21.033 18.3893C22.3041 18.3893 23.333 17.3619 23.333 16.0893H21.7997C21.7997 16.514 21.4577 16.8559 21.033 16.8559V18.3893ZM23.333 16.0893V2.3H21.7997V16.0908H23.333V16.0893ZM23.333 2.3C23.333 1.02733 22.3041 0 21.033 0V1.53333C21.4577 1.53333 21.7997 1.87527 21.7997 2.3H23.333ZM21.033 0H2.63301V1.53333H21.033V0ZM2.63301 0C1.36187 0 0.333008 1.02733 0.333008 2.3H1.86634C1.86634 1.87527 2.20827 1.53333 2.63301 1.53333V0ZM0.333008 2.3V16.0893H1.86634V2.3H0.333008ZM0.333008 16.0893C0.333008 17.3619 1.36187 18.3893 2.63301 18.3893V16.8559C2.53227 16.8561 2.43249 16.8364 2.33938 16.798C2.24627 16.7595 2.16167 16.7031 2.09044 16.6318C2.01921 16.5606 1.96275 16.476 1.92429 16.3829C1.88583 16.2898 1.86614 16.19 1.86634 16.0893H0.333008ZM2.63301 18.3893H5.69967V16.8559H2.63301V18.3893ZM7.23301 7.66207H16.433V6.12873H7.23301V7.66207ZM7.23301 12.259H13.3663V10.7257H7.23301V12.259Z" fill="#828282"/>
        </g>
        <defs>
          <clipPath id="clip0_285_21">
            <rect width="23" height="23" fill="white" transform="translate(0.333008)"/>
          </clipPath>
        </defs>
      </svg>
      <span class="reacao">
      {{ comments.length }} Comentários
    </span>
    </div>
    <div class="item" (click)="toggleShareOpen()">
      <svg xmlns="http://www.w3.org/2000/svg" width="27" height="26" viewBox="0 0 27 26" fill="none">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.2052 2.22567C13.5061 1.92478 13.9939 1.92478 14.2948 2.22567L19.8245 7.75532C20.2006 8.13144 20.2006 8.74125 19.8245 9.11737C19.4483 9.49349 18.8385 9.49349 18.4624 9.11737L14.7131 5.36807V16.9118C14.7131 17.4437 14.2819 17.8749 13.75 17.8749C13.2181 17.8749 12.7869 17.4437 12.7869 16.9118V5.36807L9.03758 9.11737C8.66146 9.49349 8.05165 9.49349 7.67553 9.11737C7.29941 8.74125 7.29941 8.13144 7.67553 7.75532L13.2052 2.22567ZM2.96311 14.4077C3.49503 14.4077 3.92623 14.8389 3.92623 15.3708V21.5347C3.92623 22.2794 4.52991 22.8831 5.27459 22.8831H22.2254C22.9701 22.8831 23.5738 22.2794 23.5738 21.5347V15.3708C23.5738 14.8389 24.005 14.4077 24.5369 14.4077C25.0688 14.4077 25.5 14.8389 25.5 15.3708V21.5347C25.5 23.3432 24.0339 24.8093 22.2254 24.8093H5.27459C3.46608 24.8093 2 23.3432 2 21.5347V15.3708C2 14.8389 2.4312 14.4077 2.96311 14.4077Z" fill="#828282"/>
      </svg>
      <span class="reacao">Compartilhar</span>
    </div>
    <div class="share" *ngIf="shareOpen">
      <span>Compartilhe</span>
      <div class="shareContainer">
        <div class="shareButton" (click)="shareOnFacebook()">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
            <circle cx="24" cy="24" r="20" fill="#3B5998"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M29.315 16.9578C28.6917 16.8331 27.8498 16.74 27.3204 16.74C25.8867 16.74 25.7936 17.3633 25.7936 18.3607V20.1361H29.3774L29.065 23.8137H25.7936V35H21.3063V23.8137H19V20.1361H21.3063V17.8613C21.3063 14.7453 22.7708 13 26.4477 13C27.7252 13 28.6602 13.187 29.8753 13.4363L29.315 16.9578Z" fill="white"/>
            </svg>
        </div>
        <div class="shareButton" (click)="shareOnTelegram()">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none">
            <g clip-path="url(#clip0_15_357)">
            <path d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="url(#paint0_linear_15_357)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.43189 11.8733C8.93014 10.3492 11.2628 9.3444 12.43 8.85893C15.7626 7.47282 16.455 7.23203 16.9064 7.22408C17.0056 7.22234 17.2276 7.24694 17.3714 7.3636C17.4928 7.46211 17.5262 7.59518 17.5422 7.68857C17.5581 7.78197 17.578 7.99473 17.5622 8.16098C17.3816 10.0585 16.6002 14.6632 16.2027 16.7884C16.0345 17.6876 15.7032 17.9891 15.3826 18.0186C14.6857 18.0828 14.1566 17.5581 13.4816 17.1157C12.4255 16.4234 11.8288 15.9924 10.8036 15.3168C9.61884 14.536 10.3869 14.1069 11.0621 13.4056C11.2388 13.2221 14.3092 10.4294 14.3686 10.176C14.376 10.1443 14.3829 10.0262 14.3128 9.96385C14.2426 9.90148 14.139 9.92281 14.0643 9.93977C13.9584 9.96381 12.2712 11.079 9.00264 13.2853C8.52373 13.6142 8.08994 13.7744 7.70129 13.766C7.27283 13.7568 6.44864 13.5238 5.83594 13.3246C5.08444 13.0803 4.48716 12.9512 4.53917 12.5363C4.56626 12.3202 4.86383 12.0992 5.43189 11.8733Z" fill="white"/>
            </g>
            <defs>
            <linearGradient id="paint0_linear_15_357" x1="1200" y1="0" x2="1200" y2="2382.2" gradientUnits="userSpaceOnUse">
            <stop stop-color="#2AABEE"/>
            <stop offset="1" stop-color="#229ED9"/>
            </linearGradient>
            <clipPath id="clip0_15_357">
            <rect width="24" height="24" fill="white"/>
            </clipPath>
            </defs>
            </svg>
        </div>
        <div class="shareButton" (click)="shareOnTwitter()">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
            <circle cx="24" cy="24" r="20" fill="#1DA1F2"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M36 16.3086C35.1177 16.7006 34.1681 16.9646 33.1722 17.0838C34.1889 16.4742 34.9697 15.5095 35.3368 14.36C34.3865 14.9247 33.3314 15.3335 32.2107 15.5551C31.3123 14.5984 30.0316 14 28.6165 14C25.8975 14 23.6928 16.2047 23.6928 18.9237C23.6928 19.3092 23.7368 19.6852 23.8208 20.046C19.7283 19.8412 16.1005 17.8805 13.6719 14.9015C13.2479 15.6287 13.0055 16.4742 13.0055 17.3766C13.0055 19.0845 13.8735 20.5916 15.1958 21.4747C14.3878 21.4491 13.6295 21.2275 12.9647 20.8587V20.9203C12.9647 23.3066 14.663 25.296 16.9141 25.7496C16.5013 25.8616 16.0661 25.9224 15.6174 25.9224C15.2998 25.9224 14.991 25.8912 14.6902 25.8336C15.3166 27.7895 17.1357 29.2134 19.2899 29.2534C17.6052 30.5733 15.4822 31.3612 13.1751 31.3612C12.7767 31.3612 12.3848 31.338 12 31.2916C14.1791 32.6884 16.7669 33.5043 19.5475 33.5043C28.6037 33.5043 33.5562 26.0016 33.5562 19.4956C33.5562 19.282 33.5522 19.0693 33.5418 18.8589C34.5049 18.1629 35.34 17.2958 36 16.3086Z" fill="white"/>
            </svg>
        </div>
        <div class="shareButton" (click)="shareOnWhatsapp()">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none">
            <path d="M0 24L1.687 17.837C0.646 16.033 0.099 13.988 0.1 11.891C0.103 5.335 5.438 0 11.993 0C15.174 0.001 18.16 1.24 20.406 3.488C22.651 5.736 23.887 8.724 23.886 11.902C23.883 18.459 18.548 23.794 11.993 23.794C10.003 23.793 8.042 23.294 6.305 22.346L0 24ZM6.597 20.193C8.273 21.188 9.873 21.784 11.989 21.785C17.437 21.785 21.875 17.351 21.878 11.9C21.88 6.438 17.463 2.01 11.997 2.008C6.545 2.008 2.11 6.442 2.108 11.892C2.107 14.117 2.759 15.783 3.854 17.526L2.855 21.174L6.597 20.193ZM17.984 14.729C17.91 14.605 17.712 14.531 17.414 14.382C17.117 14.233 15.656 13.514 15.383 13.415C15.111 13.316 14.913 13.266 14.714 13.564C14.516 13.861 13.946 14.531 13.773 14.729C13.6 14.927 13.426 14.952 13.129 14.803C12.832 14.654 11.874 14.341 10.739 13.328C9.856 12.54 9.259 11.567 9.086 11.269C8.913 10.972 9.068 10.811 9.216 10.663C9.35 10.53 9.513 10.316 9.662 10.142C9.813 9.97 9.862 9.846 9.962 9.647C10.061 9.449 10.012 9.275 9.937 9.126C9.862 8.978 9.268 7.515 9.021 6.92C8.779 6.341 8.534 6.419 8.352 6.41L7.782 6.4C7.584 6.4 7.262 6.474 6.99 6.772C6.718 7.07 5.95 7.788 5.95 9.251C5.95 10.714 7.015 12.127 7.163 12.325C7.312 12.523 9.258 15.525 12.239 16.812C12.948 17.118 13.502 17.301 13.933 17.438C14.645 17.664 15.293 17.632 15.805 17.556C16.376 17.471 17.563 16.837 17.811 16.143C18.059 15.448 18.059 14.853 17.984 14.729Z" fill="#25D366"/>
            </svg>
        </div>
        </div>
    </div>
    <div class="item">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
        <g clip-path="url(#clip0_285_182)">
          <path d="M25.7633 0.237371C25.8758 0.350036 25.9527 0.493267 25.9845 0.649272C26.0162 0.805277 26.0015 0.967181 25.942 1.11487L16.4862 24.7537C16.4028 24.9619 16.2637 25.1431 16.084 25.2773C15.9044 25.4115 15.6912 25.4935 15.4679 25.5143C15.2446 25.5351 15.0199 25.494 14.8186 25.3953C14.6172 25.2967 14.4469 25.1444 14.3265 24.9552L9.16228 16.8384L1.0454 11.6741C0.855796 11.5538 0.703101 11.3835 0.604168 11.182C0.505236 10.9804 0.463911 10.7554 0.484755 10.5318C0.5056 10.3083 0.587802 10.0948 0.722291 9.91499C0.856781 9.73518 1.03833 9.59602 1.2469 9.51287L24.8858 0.0602463C25.0335 0.000791224 25.1954 -0.0139633 25.3514 0.0178155C25.5074 0.0495942 25.6506 0.126506 25.7633 0.238996V0.237371ZM10.784 16.3639L15.2707 23.4131L22.9618 4.18612L10.784 16.3639ZM21.8129 3.03725L2.5859 10.7284L9.63678 15.2134L21.8129 3.03725Z" fill="#828282"/>
        </g>
        <defs>
          <clipPath id="clip0_285_182">
            <rect width="26" height="26" fill="white"/>
          </clipPath>
        </defs>
      </svg>
      <span class="reacao">Enviar</span>
    </div>

    </div>
    <div *ngIf="commentOpen">
      <app-comments [postId]="post.id"></app-comments>
    </div>
  </div>
  </div>

